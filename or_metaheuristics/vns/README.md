# 变邻域搜索
VNS（变邻域搜索，Variable Neighborhood Search）是一种元启发式算法，旨在通过系统地改变邻域结构来探索解空间，从而避免陷入局部最优。以下是其核心内容的简明解释：


## **核心思想**
1. **邻域多样化**：  
   定义多个不同的邻域结构（如简单交换、插入、反转等），按一定顺序依次尝试。
2. **逃离局部最优**：  
   当在当前邻域无法找到更优解时，切换到更大或更复杂的邻域继续搜索，强制跳出局部最优。


## **算法步骤**
VNS算法求解组合优化问题（最小化）的流程文字描述如下：  

1. **初始设置**：  
   - 输入初始解 $ S_{\text{init}} $，将全局最优解 $ S_{\text{best}} $ 和当前解 $ S_{\text{cur}} $ 均初始化为 $ S_{\text{init}} $。  
   - 输入最大迭代次数 $ \text{MAXGEN} $、每个邻域的搜索次数 $ M $，初始化迭代计数器 $ \text{gen}=1 $，再输入邻域数目 $ n $。  

2. **迭代循环**：  
   - 当 $ \text{gen} \leq \text{MAXGEN} $ 时，执行以下操作：  
     - 对每个邻域 $ k $（$ k=1 $ 开始，$ k \leq n $）：  
       - **扰动操作**：从 $ S_{\text{cur}} $ 的第 $ k $ 个邻域中随机选一个解 $ S_{\text{shake}} $。  
       - **局部搜索**：以 $ S_{\text{ls}} = S_{\text{shake}} $ 为起点，进行 $ M $ 次搜索：  
         - 若 $ m < M $，在 $ S_{\text{ls}} $ 的第 $ k $ 个邻域中找目标函数值最小的解更新 $ S_{\text{ls}} $，并 $ m = m+1 $。  
       - **邻域变换判断**：比较 $ f(S_{\text{ls}}) $ 与 $ f(S_{\text{cur}}) $，若 $ f(S_{\text{ls}}) < f(S_{\text{cur}}) $，则更新 $ S_{\text{cur}} = S_{\text{ls}} $，否则继续下一个邻域。  
     - 完成一轮邻域搜索后，$ \text{gen} = \text{gen} + 1 $，重复迭代。  

3. **输出结果**：  
   - 当 $ \text{gen} > \text{MAXGEN} $ 时，终止循环，输出全局最优解 $ S_{\text{best}} = S_{\text{cur}} $。



## **关键特点**
- **灵活性**：邻域结构可根据问题定制（如TSP中的2-opt、3-opt）。  
- **鲁棒性**：通过多邻域切换增强全局搜索能力。  
- **高效性**：在中等规模问题中表现优异。


## **优缺点**
- **优点**：实现简单、参数少、易于结合其他算法。  
- **缺点**：邻域设计依赖经验，大规模问题可能需优化策略。

VNS通过动态调整搜索方向，在局部开发与全局探索间取得平衡，是解决复杂组合优化问题的有效工具。

## 邻域变换算子
