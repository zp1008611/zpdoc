# Routing Problem Variants Overview

## Reference

- https://www.upperinc.com/glossary/route-optimization/



## 1 Capacitated Vehicle Routing Problem (CVRP)

**Capacitated Vehicle Routing Problem (CVRP)** 是一种经典的组合优化问题，主要用于物流和运输领域。以下是该问题的主要目标和约束：

### 问题目标

CVRP的主要目标是最小化运输成本，通常表现为以下几种形式：

1. **总行驶距离或时间最小化**：寻找车辆的最佳路线，以减少总的行驶距离或运输时间。
2. **车辆数量最小化**：在满足所有客户需求的前提下，尽量减少所使用的车辆数量。
3. **综合目标**：在某些情况下，可能需要在距离和车辆数量之间进行权衡，形成一个综合目标函数。

### 问题约束

CVRP的约束条件主要包括：

1. **车辆容量限制**：每辆车辆的载重能力有限，配送的货物总量不能超过这一限制。这意味着在为每辆车分配客户时，必须确保其总需求不超过车辆的最大容量。

2. **客户需求**：每个客户都有特定的需求量，所有的客户需求必须被满足，即每个客户必须被分配到一辆车辆，并且该车辆的路线必须经过该客户。

3. **起点和终点约束**：所有车辆通常从一个或多个仓库出发，并最终返回这些仓库。每辆车的路线必须以仓库为起点和终点。

4. **路线连通性**：每辆车的路线必须是连通的，即车辆在访问客户时不能跳过某些客户。

5. **非负约束**：所有的需求量和车辆的行驶路线长度等必须为非负数。

通过这些目标和约束，CVRP为物流和运输问题提供了一个结构化的框架，使得在实际应用中能够高效地进行配送路线的规划与优化


## 2 Vehicle Routing Problem with Time Windows (VRPTW)

**Vehicle Routing Problem with Time Windows (VRPTW)** 是一种扩展的车辆路径规划问题，除了基本的车辆路径规划外，还考虑了时间窗口的限制。以下是该问题的主要目标和约束：

### 问题目标

VRPTW的主要目标通常包括：

1. **最小化总行驶距离或时间**：与传统的车辆路径规划问题类似，目标是找到一组车辆的最佳路线，以减少总的行驶距离或运输时间。
2. **满足客户时间窗口**：确保每个客户在其指定的时间窗口内被服务，即车辆必须在客户要求的时间段内到达。
3. **车辆数量最小化**：在满足所有客户需求和时间窗口约束的前提下，尽量减少所使用的车辆数量。

### 问题约束

VRPTW的约束条件主要包括：

1. **时间窗口约束**：每个客户有一个指定的时间窗口 ($[e_i, l_i]$)，车辆必须在这个时间段内到达。如果车辆提前到达，可能需要等待，或者如果迟到则可能无法服务。

2. **车辆容量限制**：每辆车辆的载重能力有限，配送的货物总量不能超过这一限制。

3. **客户需求**：每个客户都有特定的需求量，所有的客户需求必须被满足，即每个客户必须被分配到一辆车辆，并且该车辆的路线必须经过该客户。

4. **起点和终点约束**：所有车辆通常从一个或多个仓库出发，并最终返回这些仓库。

5. **路线连通性**：每辆车的路线必须是连通的，车辆在访问客户时不能跳过某些客户。

6. **非负约束**：所有的需求量和车辆的行驶路线长度等必须为非负数。

通过这些目标和约束，VRPTW为实际的物流和配送问题提供了一个更复杂的框架，使得在考虑时间敏感性和客户服务要求的情况下，能够高效地进行配送路线的规划与优化。

## 3 Pickup and Delivery Problem (PDP)

**Pickup and Delivery Problem (PDP)** 是一种车辆路径规划问题，主要涉及在特定地点提取和投递货物。该问题的关键在于确保每个货物的提取和交付遵循特定的顺序和约束。以下是该问题的主要目标和约束：

### 问题目标

PDP的主要目标通常包括：

1. **最小化总行驶距离或时间**：寻找一组车辆的最佳路线，以减少总的行驶距离或运输时间。
2. **最小化服务时间**：尽量减少每个提取和交付操作的等待时间，提高整体服务效率。
3. **车辆数量最小化**：在满足所有提取和交付需求的前提下，尽量减少所使用的车辆数量。

### 问题约束

PDP的约束条件主要包括：

1. **提取和交付顺序**：每个货物必须首先被提取，然后再进行交付。这意味着在路线中，提取点必须在其对应的交付点之前。

2. **车辆容量限制**：每辆车辆的载重能力有限，运输的货物总量不能超过这一限制。

3. **客户需求**：每个客户有特定的提取和交付需求，所有的需求必须被满足。

4. **起点和终点约束**：所有车辆通常从一个或多个仓库出发，并最终返回这些仓库。

5. **时间窗口约束（可选）**：在某些情况下，提取和交付可能有特定的时间窗口，车辆必须在这些时间段内进行操作。

6. **非负约束**：所有的需求量和车辆的行驶路线长度等必须为非负数。

通过这些目标和约束，PDP为物流和配送问题提供了一个结构化的框架，使得在考虑提取和交付的顺序及其他约束条件的情况下，能够高效地进行配送路线的规划与优化。


## 4 Open Vehicle Routing Problem (OVRP)

**Open Vehicle Routing Problem (OVRP)** 是一种车辆路径规划问题的变种，与传统的车辆路径问题不同，OVRP不要求车辆在完成所有配送后返回到起始仓库。以下是OVRP的主要目标和约束：

### 问题目标

OVRP的主要目标通常包括：

1. **最小化总行驶距离或时间**：寻找一组车辆的最佳路线，以减少总的行驶距离或运输时间。
2. **最小化车辆使用数量**：在满足所有客户需求的前提下，尽量减少所使用的车辆数量。
3. **提高客户服务水平**：确保客户需求得到及时满足，增强配送效率。

### 问题约束

OVRP的约束条件主要包括：

1. **客户需求**：每个客户都有特定的需求量，所有的需求必须被满足。每辆车在其行驶过程中必须访问所有分配给它的客户。

2. **车辆容量限制**：每辆车辆有最大载重限制，配送的货物总量不能超过这个限制。

3. **起点约束**：车辆可以从一个或多个仓库出发，但不要求在完成所有配送后返回仓库。每辆车的行程可以在任意客户位置结束。

4. **非负约束**：所有的需求量和车辆的行驶路线长度等必须为非负数。

5. **路线连通性**：每辆车的路线必须是连通的，车辆在访问客户时不能跳过某些客户。

OVRP适用于许多实际应用场景，如快递服务、货物配送等，特别是在配送后不需要返回起点的情况下。通过有效地解决OVRP，可以显著提高物流效率和降低运输成本。

## 5 Periodic Vehicle Routing Problem

**Periodic Vehicle Routing Problem (PVRP)** 是一种车辆路径规划问题的扩展，涉及在一定的时间周期内为客户提供服务。与传统的车辆路径问题不同，PVRP考虑了在多个时间段内的服务需求。以下是PVRP的主要目标和约束：

### 问题目标

PVRP的主要目标通常包括：

1. **最小化总行驶距离或时间**：寻找一组车辆的最佳路线，以减少在整个周期内的总行驶距离或运输时间。
2. **最小化车辆使用数量**：在满足所有客户需求的前提下，尽量减少所使用的车辆数量。
3. **平衡服务频率**：确保客户在整个周期内得到合理的服务频率，避免某些客户在某些时间段内被忽视。

### 问题约束

PVRP的约束条件主要包括：

1. **客户需求**：每个客户在不同时间段内有特定的需求量，所有的需求必须被满足。

2. **车辆容量限制**：每辆车辆的载重能力有限，配送的货物总量不能超过这一限制。

3. **服务频率限制**：每个客户在整个服务周期内可能有最小和最大服务频率的要求，确保在规定的时间内满足客户的需求。

4. **起点和终点约束**：所有车辆通常从一个或多个仓库出发，并最终返回这些仓库。

5. **时间窗口约束（可选）**：在某些情况下，客户在特定时间段内可能有服务时间窗口，车辆必须在这些时间段内进行操作。

6. **非负约束**：所有的需求量和车辆的行驶路线长度等必须为非负数。

通过这些目标和约束，PVRP为物流和配送问题提供了一个结构化的框架，使得在考虑周期性服务需求的情况下，能够高效地规划和优化配送路线。适用于许多实际应用，如城市垃圾收集、定期配送服务等。